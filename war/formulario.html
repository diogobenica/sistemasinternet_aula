<html>
  <head>
    <meta charset="UTF-8">
    <script src="js/jquery-2.0.3.js"></script>
  </head>
  <style>
  body {
    background-color: #e0e0e0;
  }
  .formulario {
    border: 5px solid #d0d0d0;
    background-color: #f5f5f5;
    padding: 25px;
    width: 350px;
    margin: 0 auto;
  }
  .titulo {
    font-family: Arial;
  }
  .erro {
    border: solid 1px red;
    background-color: #F0BDBF;
  }
  </style>
  <body>
    <div class="formulario">
      <h2 class="titulo">Cadastro de um novo post</h2>
      <p>
        Título: <input id="titulo">
      </p>
      <p>
        Subtítulo: <input id="subtitulo">
      </p>
      <p>
        Autor: <input id="autor">
      </p>
      <p>
        Conteúdo: <input id="conteudo">
      </p>
      <p>
        <button id="gravar">Gravar</button>
      </p>
    </div>

    <script>
      function enviaFormulario() {
        var titulo = $("#titulo").val();
        var subtitulo = $("#subtitulo").val();
        var autor = $("#autor").val();
        var conteudo = $("#conteudo").val();

        var erros = "";
        if (titulo == "") {
          $("#titulo").addClass('erro');
          erros = "O titulo nao foi preenchido!";
        }
        if (subtitulo == "") {
          erros = erros + "O subtitulo nao foi preenchido!";
        }
        if (conteudo == "") {
          erros = erros + "O conteudo nao foi preenchido!";
        }

        if(erros != ""){
          alert(erros);
          return false;
        }

        $.post("/posts",
          {titulo: titulo, conteudo: conteudo},
          function(){
            alert("Dados gravados com sucesso!");
          }
        );
      }
      $("#gravar").click(enviaFormulario);
    </script>
  </body>
</html>
